
const dst_path = "C:/Users/Thakee Nathees/Desktop/test/c test/VSMain/libs/carbon/";
var  src_path  = "C:/dev/carbon/";

func should_copy(entry) {
	if (Path.is_dir(entry)) return false;
	for (var ends : [".hpp", ".h", ".inc", "carbon.lib", ".pdb"]) {
		if (entry.endswith(ends)) return true;
	}
	return false;
}

func main(args) {
	Path.mkdir(dst_path, true);
	Path.set_cwd(src_path);
	for (var entry : Path.listdir(Path.get_cwd(), true)) {
		if (should_copy(entry)){
			var src = Path.relative(entry);
			var new_folder = Path.join(dst_path, Path.parent(src));
			Path.mkdir(new_folder, true);
			Path.copy_file(entry, Path.join(new_folder, Path.filename(entry)));
		}
	}
}
